<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>C3.js</title>
    <link href="c3.css" rel="stylesheet" />
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="c3.min.js"></script>
    <script src="../data/pilotData.js"></script>
  </head>
  <body>
    <!-- Chart container -->
    <div id="container"></div>
    <script>
      // Local variables
      if (localStorage.time == null) localStorage.time = "";
      if (localStorage.count == null) localStorage.count = 0;
      // Variables
      let stime, etime, rtime;
      const d1 = d1_1;
      const d2 = d2_1;
      // Add necessary start element to data
      d1.unshift("data1");
      d2.unshift("data2");
      // Start time
      stime = performance.now();
      // Generate chart
      c3.generate({
        bindto: "#container",
        data: { type: "line", columns: [d1, d2] },
        point: { show: false },
      });
      // End time
      etime = performance.now();
      // Add rendering time to local storage
      rtime = Math.round(etime - stime);
      localStorage.time += rtime + ", ";
      // Reload until finished
      if (localStorage.count < 100) {
        localStorage.count++;
        setTimeout(function () {
          location.reload();
        }, 0);
      }
    </script>
  </body>
</html>
